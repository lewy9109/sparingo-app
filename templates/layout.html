{{ define "layout" }}
<!doctype html>
<html lang="pl" data-theme="cupcake">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ .Title }} Â· Sqoush</title>
  <link rel="stylesheet" href="/static/css/output.css">
  <script src="/static/htmx.min.js" defer></script>
  <style>
    :root {
      --app-bg: url('/static/img/unsplash1.jpg');
    }

    body {
      background:
        linear-gradient(120deg, rgba(248, 250, 252, 0.9), rgba(255, 255, 255, 0.92), rgba(254, 243, 199, 0.9)),
        var(--app-bg) center / cover no-repeat fixed;
    }
  </style>
  <script>
    (function () {
      var images = [
        "/static/img/unsplash1.jpg",
        "/static/img/unsplash2.jpg"
      ];
      var pick = images[Math.floor(Math.random() * images.length)];
      document.documentElement.style.setProperty("--app-bg", "url('" + pick + "')");
    })();
  </script>
</head>
<body class="min-h-screen text-slate-900">
  <header class="border-b border-slate-200/70 bg-white/80 backdrop-blur">
    <div class="mx-auto flex max-w-6xl items-center gap-4 px-4 py-4">
      <a href="/" class="text-xl font-semibold tracking-tight">Sqoush App</a>
      <div class="flex-1"></div>
      {{ if .IsAuthenticated }}
        <a href="/leagues/new" class="btn btn-sm btn-primary">+ Nowa liga</a>
        <a href="/friendlies/new" class="btn btn-sm btn-secondary" aria-label="Dodaj mecz towarzyski">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-4 w-4" aria-hidden="true">
            <path fill="currentColor" d="M16.5 7.5A2.5 2.5 0 0 0 14 5h-1.5a2.5 2.5 0 0 0-2.45 2H7.5a2.5 2.5 0 1 0 0 5h2.55A2.5 2.5 0 0 0 12.5 14H14a2.5 2.5 0 0 0 2.45-2H19a1 1 0 1 0 0-2h-2.55a2.5 2.5 0 0 0 0-2ZM14 7a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-1.5a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5H14Zm-6.5 7.5a1.5 1.5 0 1 0 0 3h9a1.5 1.5 0 1 0 0-3h-9Z"/>
          </svg>
        </a>
        <div class="text-sm text-slate-500">
          Zalogowany: <span class="font-medium text-slate-900">{{ .CurrentUser.FullName }}</span>
          {{ if eq .CurrentUser.Role "admin" }}
            <span class="ml-2 rounded-full bg-amber-100 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-amber-700">Admin</span>
          {{ end }}
        </div>
        <form method="post" action="/logout">
          <button class="btn btn-sm btn-ghost">Wyloguj</button>
        </form>
      {{ else }}
        <a href="/login" class="btn btn-sm btn-primary">Zaloguj</a>
        <a href="/register" class="btn btn-sm btn-outline">Zarejestruj</a>
      {{ end }}
    </div>
  </header>
  <main class="mx-auto max-w-6xl px-4 py-8">
    {{ template "content" . }}
  </main>
</body>
</html>
{{ end }}
